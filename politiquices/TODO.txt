Web App
=======

    Geral
    -----
        - Charts with links, possible ?
        - pesquisar: permitir pesquisar sem acentos:
            https://alistapart.com/article/accent-folding-for-auto-complete/
            https://stackoverflow.com/questions/4402838/jquery-autocomplete-with-special-characters-i-e-%C3%B6-%C3%84-%C3%A9-or-%C3%9F
        
        - Pesquisar/Seleccionar: não permitir value associado à input box estar vazio
        - Annotate: still has bugs in direction


    Backend
    -------
        - Indexar colecção CHAVE no server e fazer links para politiquices.pt
        - Speed up party vs party queries, how?:    https://www.stardog.com/blog/7-steps-to-fast-sparql-queries/

    Stats
    -----
        - Todos: artigos por ano em stacked bar: oposição/apoio/ e other? ou remover?
        - mesma coisa para os partidos:
            - quais os partidos que acusam mais? e que partidos alvo?

        - Absolutos e relativos:
            - Quem mais acusa? é acusado?
            - Quem mais defende? é defendido
            - Persons more supported than accused ?
            - Persons more accused than supported ?

        - existem relações familiares no grafo? entre quem?

    Grafo
    -----
        - NOTE: CSV files should not have any empty spaces
        - https://community.neo4j.com/t/the-graph-display-on-using-neovis-js-can-be-more-presentable/2457/5
        - https://medium.com/neo4j/graph-visualization-with-neo4j-using-neovis-js-a2ecaaa7c379

        carregar dados:
            - Cor do node para cada partido
            - Cor para o Edge conforme a relação


        idea para geral:
            - um unico grafo navegal? ver noticias entre duas pessoas e/ou numa comunidade
            - um grafico estatico anual: tirar medidas, fazer uma animação com 26 estados
            - um interface qualquer para poder selecionar as relações e o intervalo de datas

        - para cada personalidade mostrar a rede com a possibilidade de seleccionar o grau e as relações
        - triangulos politicos: qual a relação tipica entre X e Y, se X e Y sempre acusam/defendem Z

        # ToDo: mapping de cores para o partido

        edge_color_mapping = {
            "ent1_opposes_ent2": "#FF0000",
            "ent1_opposed_by_ent2": "#980000",
            "ent1_supports_ent2": "#44861E",
            "ent1_supported_by_ent2": "#70DA33",
            "ent2_opposes_ent1": "#FF0000",
            "ent2_opposed_by_ent1": "#980000",
            "ent2_supports_ent1": "#44861E",
            "ent2_supported_by_ent1": "#70DA33",
        }

        - criar redes de apoio e acusação em função do tempo por exemplo, para ver as mudanças de
          alianças, depois podes fazer cena a longo prazo para veres quem são os grandes aliados



    Agregacoes + info na personalidade:
    ------------------------------------
     - Governo
     - Assembleias
     - Profissao
     - Educacao
     - listar todos os membros do Governo X
     - listar todos os que já foram Ministros <qq cena>



    Personalidades:
    -------------
     - mais imagens por linha
     - cache + cópia do resize das imagens para este display
     - size original para a página principal da entidade only


    Geral (low)
    ----------
        - AJAX loading GIF: centrar
        - Load on scroll on politiquices.pt tem um erro, repete rows, porque?
        - party members: - load on scroll down
        - clicar no branco fazer collapse ao menu (hamburger)
        - tirar todos os alerts -> subsituir por uma pagina de erro
        - Mostrar actualizar o outro input box apenas com co-occorrências






Backend-stuff
-------------
    - eliminate relationships between the same entity:
        wd:Q610788  <-> wd:Q610788
        António Costa - Costa recusa ter recuperado "fórmula" do Bloco Central - Política - DN

    - http://0.0.0.0:5000/entity?q=Q2857730 (Bagão Felix vs Carlos César)
        há muitos duplicados

    - alterar o namespace de 'myprefix' para 'politiquices.pt'

    SPARQL queries:
        - pessoas que acusaram/apoiaram governador do Banco de Portugal antes de ser governador
        - pessoas que acusaram/apoiaram governador do Banco de Portugal agora que é governador
        - empréstimo Berardo/CGD: quem acusou apoiou Vitor Constâncio, de onde vêm/são?

   - https://www.dafont.com/de/28-days-later.font?text=Politiquices&psize=l&back=theme

SPARQL DB
=========
    - text index in SPARQL: https://medium.com/@rrichajalota234/how-to-apache-jena-fuseki-3-x-x-1304dd810f09
    - use OR in FILTER to avoid doing two queries:
        https://stackoverflow.com/questions/30501124/or-in-a-sparql-query


arquivo_pt:
==========
    queries:
        - tirar todos os nomes da pagina do governo:
            - https://www.portugal.gov.pt/pt/gc22/governo/governos-anteriores
            - nomes da Ontologia POWER
    - mais dominios ?
    - datas dos dominos crawlados, alteraram-se ?
    - method to detect semantically similar titles


classifiers
===========
    - run script with PYTHONHASHSEED=0
    - create classifier abstraction/interface

    relationship:
    -------------
        - look at predictions, analyse, annotate and train/test again
        - explorar os padroes encontrados
        - controlar overfitting?

        - fix plots, it's a mess!

        - Transformer models: https://huggingface.co/transformers/quicktour.html

        - Training Neural Networks:
            - ModelCheckpoint: maximize for precision in lowest class
            - Optimizer and Learning Rate
            - batch size, Early Stop
            - https://parameterfree.com/2020/12/06/neural-network-maybe-evolved-to-make-adam-the-best-optimizer/
            - https://spacy.io/usage/training#tips
            - http://karpathy.github.io/2019/04/25/recipe/#2-set-up-the-end-to-end-trainingevaluation-skeleton--get-dumb-baselines
            - https://towardsdatascience.com/checklist-for-debugging-neural-networks-d8b2a9434f21

        - https://towardsdatascience.com/handling-class-imbalanced-data-using-a-loss-specifically-made-for-it-6e58fd65ffab
        - https://www.tensorflow.org/tutorials/structured_data/imbalanced_data
        - https://github.com/vandit15/Class-balanced-loss-pytorch

        - embeddings
            - Uppercase and lower case, improvement?
            - better/cleaner higher dimensions? train on own corpus
            - catch negations, how?
                - defende != não + defende
            - tool to visualize embeddings

        - mostrar mais relações:
            - apoia/defende c/ as duas direções
            - acusa/opoem-se c/ as duas direções


    named entity recognition
    ------------------------
    'Cavaco Silva nomeou cunhada para assessorar antiga primeira-dama Maria Cavaco Silva'
    -> 'Cavaco Silva'
    -> 'Maria Cavaco Silva'


    entity_linking
    --------------
        - 'Costa':
            - is not always 'António Costa', can be often 'Carlos Costa' -> https://arquivo.pt/wayback/20141117234314/http://expresso.sapo.pt/marco-costa-discute-saida-da-familia-do-bes-salgado-diz-que-seria-o-diluvio=f898400
            - apply entity linking algorithm

        - http://0.0.0.0:5000/entity?q=Q17496480
            'Rui Pedro Soares' always being tagged as 'Pedro Soares'

        - 'Fernando Gomes'

        - construir o index ElasticSearch a partir das .ttl files, em vez de sacar os JSONs
            tip: usar python RDFLib para ter label + aliases a partir das ttl files

        - https://github.com/TheScienceMuseum/elastic-wikidata

        - news article with this personalities
            https://www.wikidata.org/wiki/Q23904994
            https://www.wikidata.org/wiki/Q52112309
            https://www.wikidata.org/wiki/Q72310730

    create_graph
    ------------
        - exactly same input, pre-processing should be in another file
