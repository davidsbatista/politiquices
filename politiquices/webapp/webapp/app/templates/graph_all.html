<style type="text/css">
    #viz {
        width: 85%;
        height: 98%;
        border: 2px solid lightgray;
        font: 12pt arial;
    }
    #controls {
        width: 5%;
        height: 100%;
        border: 2px solid lightgray;
        font: 12pt arial;
    }
</style>
<script src="https://rawgit.com/neo4j-contrib/neovis.js/master/dist/neovis.js"></script>
<script>
    function draw() {

        var config = {
            container_id: "viz",
            server_url: "bolt://politiquices.pt:7687.",
            server_user: "neo4j",
            server_password: "s3cr3t",
            arrows: true,

            labels: {
                "Person": {
                    caption: "name",
                    size: "pagerank",
                    community: "community"
                }
            },

            relationships: {
                "ACUSA": {
                    caption: true,
                    thickness: "freq",
                },
                "APOIA": {
                    caption: true,
                    thickness: "freq",
                }
            },
            initial_cypher: "MATCH (n)-[r:ACUSA|APOIA]->(m) WHERE r.freq > 5 RETURN n,r,m"

            // initial_cypher: "MATCH p=(:Person)-[:ACUSA|APOIA]->(:Person) RETURN p LIMIT 250"
            // initial_cypher: "MATCH (n)-[r:INTERACTS]->(m) RETURN n,r,m"

        }

        var viz = new NeoVis.default(config);
        viz.render();
    };

</script>

<body onload="draw()">

    <div class="container">

        <div class="row"><div class="col-sm">
             <div id="viz"></div>
          </div>

        <div class="col-sm">
          <div id="controls"> controls  inputs</div>
        </div>

        <div class="col-sm">
          One of three columns
        </div>

      </div>
</div>





</body>

<script>

    $("#reload").click(function() {
                
        var cypher = $("#cypher").val();

        console.log(cypher);
        
        if (cypher.length > 3) {
            viz.renderWithCypher(cypher);
        } else {
            console.log("reload");
            viz.reload();
        }
    });
        
    $("#stabilize").click(function() {
        viz.stabilize();
    })

</script>