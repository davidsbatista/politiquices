
<br>

<div class="container">

    <!-- Info about the two entities -->
    <div class="row justify-content-center">

        <div class="col-xs-6">

            <div id="outer_party_one" class="container d-flex align-items-center justify-content-center">

                <div class="media">
                    <figure class="figure">
                        <img class="figure-img img-fluid rounded" src="{{party_one.party_logo}}" width="120" height="150" alt="">
                        <figcaption class="figure-caption" style="text-align:center;">
                            <b>{{party_one.party_label}}</b>
                        </figcaption>
                    </figure>
                </div>

            </div>

        </div>

        <div class="col-xs-6">
            <center><h4><b>Relações encontradas</b></h4></center>
        </div>

        <div class="col-xs-6">

            <div id="outer_party_two" class="container d-flex align-items-center justify-content-center">

                <div class="media">
                    <figure class="figure">
                        <img class="figure-img img-fluid rounded" src="{{party_two.party_logo}}" width="120" height="150" alt="">
                        <figcaption class="figure-caption" style="text-align:center;">
                            <b>{{party_two.party_label}}</b>
                        </figcaption>
                    </figure>
                </div>

            </div>

        </div>

    </div>
    <br> <br>

    <!-- Select list of relationships -->
    <center id="relationships"><h4><b>Relações expressas em títulos de notícias</b></h4></center>
    <br><br>
    <div class="container" id="single_table">
        <table id="table">
            <thead>
                <tr>
                    <th data-sortable="true" data-field="data">Data</th>
                    <th data-field="titulo">Título</th>
                    <th data-field="ent1" data-force-export="true" data-visible="false">Personalidade_1</th>
                    <th data-field="ent2" data-force-export="true" data-visible="false">Personalidade_2</th>
                    <th data-field="ent1_wiki" data-force-export="true" data-visible="false">Wikidata_PER_1</th>
                    <th data-field="ent2_wiki" data-force-export="true" data-visible="false">Wikidata_PER_2</th>
                    <th data-align="center" data-force-hide="true" data-field="link">Artigo</th>
                    <th data-field="url" data-force-export="true" data-visible="false">URL</th>
                </tr>
            </thead>
        </table>
    </div>

</div>

<!-- Datatables: for some reason this needs to reloaded to trigger the rendering of the table -->
<script src="https://unpkg.com/bootstrap-table@1.18.2/dist/bootstrap-table.min.js"></script>

<script>
    var relationships = {{ relationships|safe }};
    var $table = $('#table');
    $(function (table) {
        $('#table').bootstrapTable({
            data: relationships,
            //toolbar: "#toolbar",
            //pagination: true,
            //sidePagination: "server",
            //pageSize: "10",
            //pageList: "[10, 25, 50, All]",
            search: true,
            height: "600",
            showExport: true,
            exportTypes: ['csv'],
            exportDataType: 'all',
            showFooter: false,
            exportFooter: false
        });
    });
    $(document).scrollTop( $(relationships).offset().top);
    $('html,body').scrollTop(0);

</script>