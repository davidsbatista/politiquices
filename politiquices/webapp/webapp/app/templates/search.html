{% extends 'base.html' %}

{% block title %} Pesquisar {% endblock %}

{% block body %}


  <!-- Page Content -->
  <div class="container">

    <!-- Jumbotron Header -->
    <header class="jumbotron my-3">

      <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
      <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>

  <script>

		/*
		 * jQuery UI Autocomplete: Using Label-Value Pairs
		 * https://salman-w.blogspot.com/2013/12/jquery-ui-autocomplete-examples.html
     https://github.com/salmanarshad2000/demos/blob/v1.0.4/jquery-ui-autocomplete/using-label-value-pairs.html
		 */

    nomes = [];
    $.getJSON("static/persons.json", function(json_data){
        for (var i = 0, len = json_data.length; i < len; i++) {
            var person = {label: json_data[i].name, value: json_data[i].wiki_id};
            nomes.push(person);
        };
    });

    $(function() {
			$("#autocomplete").autocomplete({
				source: nomes,
        focus: function(event, ui) {
					// prevent autocomplete from updating the textbox
					event.preventDefault();
					// manually update the textbox
					$(this).val(ui.item.label);
				},
        select: function(event, ui) {
					// prevent autocomplete from updating the textbox
					event.preventDefault();
					// manually update the textbox and hidden field
					$(this).val(ui.item.label);
					$("#autocomplete-value").val(ui.item.value);
				}
      });
    });

  </script>
    <p>Personalidade<br>
    <input id="autocomplete" type="text" placeholder="Personalidade">
    <input id="autocomplete-value" type="text" name="wiki"></p>

    <div id="inner" class="w-85 p-2" align="left">
       <br>
       <h5><a href="/queries?q=example_1"><b>Personalidades do PS que acusaram ou se oposeram a José Sócrates</b></a></h5>
       <br>
       <h5><b>Listar relações familiares existentes no grafo</b></h5>
       <br>
     </div>

    </header>

  </div>

<br><br>

{% endblock %}